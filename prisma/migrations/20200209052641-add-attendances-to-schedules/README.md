# Migration `20200209052641-add-attendances-to-schedules`

This migration has been generated by nampdn at 2/9/2020, 5:26:41 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Activity" DROP COLUMN "type";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200131215046-add-slug-for-activity..20200209052641-add-attendances-to-schedules
--- datamodel.dml
+++ datamodel.dml
@@ -1,11 +1,11 @@
-generator photon {
-  provider = "photonjs"
+generator client {
+  provider = "prisma-client-js"
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Post {
   id        String   @default(cuid()) @id
@@ -81,16 +81,16 @@
 model Activity {
   id   String @default(cuid()) @id
   slug String @unique
   name String
-  type String
   org  Org
 }
 model Schedule {
-  id       String   @default(cuid()) @id
-  activity Activity @relation(name: "ScheduleActivity")
-  date     DateTime
+  id          String       @default(cuid()) @id
+  activity    Activity     @relation(name: "ScheduleActivity")
+  attendances Attendance[] @relation(name: "AttendanceSchedule")
+  date        DateTime
 }
 model Attendance {
   id        String   @default(cuid()) @id
```


